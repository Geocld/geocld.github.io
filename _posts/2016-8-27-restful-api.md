---
layout: post
title: RESTful API的前后端分离实现
subtitle: "还在为充满各类模板语言的前端代码困扰吗，试试基于RESTful API的前后端分离吧！"
date: 2016-8-27
author: "lijiahao"
tags: [Python,vue.js]
---
在配合后端进行页面开发时，在非MVC时代，页面配合后端数据通常采用的是后端模板（如smarty、jinja等）+前端html进行开发，例如以下代码

![](http://pics.hitour.cc/430ed9860e7fa6921b333f0be7597052.png)

也就是采用的是前后端耦合的方式将后端数据渲染出来，这样的方式使得前端页面代码可读性差，在后端数据发生结构变化时，前端还得配合后端数据模板进行修改。使得页面的可维护性大大下降、开发效率下降，个人不是很喜欢这样的开发模式，相比之下，使用RESTful服务器为前端提供API进行页面开发是当前较为推荐的前后端分离模式。

<h4>什么是REST？</h4>
REST (REpresentational State Transfer) 是Web服务实现方案之一，近年来因其简介的设计模式而被广泛采用，如今REST已经变成了web services 和 web APIs 的标配。

REST系统有如下特点：

- 客户端-服务器：客户端与服务器隔离，服务器提供服务，客户端进行消费；
- 无状态：从客户端到服务器的每个请求都必须包含理解请求所必需的信息。也就是说，服务器不会存储客户端上一次请求的信息用来给下一次使用。
- 可缓存：服务器必须明示客户端请求能否缓存。
- 分层系统: 客户端和服务器之间的通信应该以一种标准的方式，就是中间层代替服务器做出响应的时候，客户端不需要做任何变动。
- 统一的接口: 服务器和客户端的通信方法必须是统一的。
- 按需编码: 服务器可以提供可执行代码或脚本，为客户端在它们的环境中执行。这个约束是唯一一个是可选的。

<h4>建立一个web service服务器</h4>
了解了REST系统，接下来就是通过REST`客户端-服务器`的特点建立一个web service服务器，为前端工作提供API接口。

本文使用的是Python的Flask框架进行REST服务器搭建。这个服务器实现了页面端通过API接口以GET、POST等HTTP标准方法进行请求、响应，并将结果以JSON数据的形式返回，从而实现页面应用的开发。

<h5>1.设置页面根路径</h5>
开发之前需要在服务器端设置页面的根路由，以便在打开指定页面地址时能打开对应的页面，本文以`static`目录下的`index.html`文件作为根路由显示文件：

	#设置根路由
	@app.route('/')
	def root():
		return app.send_static_file('index.html')

运行服务器，打开`http://127.0.0.1:5000/`即可看到index.html的页面内容。

